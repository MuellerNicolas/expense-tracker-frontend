<h1>Ihre Ausgaben:</h1>

<mat-accordion>
    <mat-expansion-panel *ngFor="let ausgabe of ausgaben">
      <mat-expansion-panel-header>
        <mat-panel-description>
          {{ausgabe.datum?.getDate()}}.{{ausgabe.datum?.getMonth()}}.{{ausgabe.datum?.getFullYear()}}
        </mat-panel-description>
        <mat-panel-description>
          {{ausgabe.name}}
        </mat-panel-description>
        <mat-panel-description>
          {{ausgabe.betrag | punktZuKomma}} {{ausgabe.waehrung}}
        </mat-panel-description>
        <mat-panel-description>
          {{ausgabe.kategorie}}
        </mat-panel-description>
      </mat-expansion-panel-header>
      <form #ausgabeForm="ngForm" (ngSubmit)="aktualisiereAusgabe(ausgabe)">
        <mat-form-field appearance="outline">
          <mat-label>Datum</mat-label>
          <input matInput [matDatepicker]="picker" required [(ngModel)]="ausgabe.datum" name="datum" ngDefaultControl>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker [(ngModel)]="ausgabe.datum" name="datum" ngDefaultControl></mat-datepicker>
        </mat-form-field>
        <br/>
        <mat-form-field appearance="outline">
          <mat-label>Name</mat-label>
          <input matInput type="text" required minlength="1" [(ngModel)]="ausgabe.name" name="name">
          <button mat-button *ngIf="ausgabe.name" matSuffix mat-icon-button aria-label="Clear" (click)="ausgabe.name=''">
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
        <br/>
        <mat-form-field appearance="outline">
          <mat-label>Betrag</mat-label>
          <input matInput type="number" required min="0" [(ngModel)]="ausgabe.betrag" name="betrag">
          <button mat-button *ngIf="ausgabe.kategorie" matSuffix mat-icon-button aria-label="Clear" (click)="ausgabe.betrag=0">
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
        <br/>
        <mat-form-field appearance="outline">
          <mat-label>Kategorie</mat-label>
          <input matInput type="text" required minlength="1" [(ngModel)]="ausgabe.kategorie" name="kategorie">
          <button mat-button *ngIf="ausgabe.kategorie" matSuffix mat-icon-button aria-label="Clear" (click)="ausgabe.kategorie=''">
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
        <br/>
        <button mat-raised-button type="submit" [disabled]="!ausgabeForm.form.valid" color="primary">Aktualisieren</button>
        <span class="einzug"></span>
        <button mat-raised-button color="warn" (click)="loescheAusgabe(ausgabe)">LÃ¶schen</button>
    </form>
  </mat-expansion-panel>
</mat-accordion>
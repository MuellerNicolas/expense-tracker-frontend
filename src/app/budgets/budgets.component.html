<h1>Ihre Budgets:</h1>

<mat-accordion>
  <!-- Alle Ausgaben -->
  <mat-expansion-panel *ngFor="let budget of budgets">
    <mat-expansion-panel-header>
      <mat-panel-description class="mat-panel-description">
        {{ budget.kategorie }}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <form #budgetForm="ngForm" (ngSubmit)="update(budget)">
      <mat-form-field appearance="outline">
        <mat-label>Betrag</mat-label>
        <input
          matInput
          type="number"
          required
          min="0"
          [(ngModel)]="budget.budget"
          name="betrag"
          #betrag="ngModel"
        />
        <button
          mat-button
          *ngIf="budget.budget"
          matSuffix
          mat-icon-button
          aria-label="Clear"
          (click)="budget.budget = 0"
        >
          <mat-icon>close</mat-icon>
        </button>
        <mat-error *ngIf="betrag.errors">
          {{ getErrorMessage(betrag) }}
        </mat-error>
      </mat-form-field>
      <br />
      <button
        mat-raised-button
        type="submit"
        [disabled]="!budgetForm.form.valid"
        color="primary"
      >
        Aktualisieren
      </button>
    </form>
  </mat-expansion-panel>
</mat-accordion>
